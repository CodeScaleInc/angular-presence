<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <link rel="stylesheet" type="text/css" href="stylesheets/custom.css" />
	<script src="http://code.angularjs.org/1.2.0/angular.min.js"></script>
	<script src="javascripts/angular-presence.js"></script>
	<script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>angular-presence by katebe</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
		  <a href="https://github.com/katebe/angular-presence" id="view-on-github" class="button"><span>View on GitHub</span></a>
          <h1>angular-presence</h1>
        </header>


        <hr>

        <section id="main_content">
          
<h3><a name="what-is-it" class="anchor" href="#what-is-it"><span class="octicon octicon-link"></span></a>What is it?</h3>

<p>An AngularJS directive & service to detect user interactions and set them in relation to user-defined states like active, away etc.</p>

<p>Use this in an chat or messenger application where you want to display the user states. Or you want to inform the user about updates when the user returned after being away - or show specific views depending on the input method (mouse/keyboard/touch).</p>

<h3><a name="example-1" class="anchor" href="#example-1"><span class="octicon octicon-link"></span></a>Example #1</h3>

<p>Move your mouse over the area underneath - or touch it, if you have a touchscreen.</p>

<div id="presence-example-one" ng-controller="ctrl" class="example">
	<section presence>{{states.getCurrent().text}}</section>
	<div class="debug">
		<div ng-click="debug = !debug">Click to toggle state inspector
		<pre ng-show="debug">{{states | json}}</pre>
		</div>
	</div>
</div>

<p>The code for this example looks like this:<p>

<pre>
angular.module('presence-example-one', ['presence'])
.factory('states', function($presence) {
  return $presence.init({
    ACTIVE : { enter: 0, text: "I know you're there!" },
    INACTIVE : {enter: 1000, text: "Are you there?" }
  });
})
.controller('ctrl', function($scope, states) {
  $scope.states = states;
});
</pre>
<p>and the markup like this:</p>

<pre>
&lt;div presence&gt;{{states.getCurrent().text}}&lt;/div&gt;
</pre>

<h3><a name="example-2" class="anchor" href="#example-2"><span class="octicon octicon-link"></span></a>Example #2</h3>

<p>Move your mouse over the area underneath - or touch it, if you have a touchscreen.</p>

<div id="presence-example-two" ng-controller="ctrl" class="example">
	<section presence="MOUSE TOUCH">
		{{text}}
		<input presence="KEYBOARD" type="text" value="Type here: "/>
		<input type="text" value="I don't care if you type here... "/>
	</section>
	<div class="debug">
		<div ng-click="debug = !debug">Click to toggle state inspector
		<pre ng-show="debug">{{states | json}}</pre>
		</div>
	</div>
</div>

<p>The code for this example looks like this:<p>

<pre>
angular.module('presence-example-two', ['presence'])
.factory('states', function($presence) {
  return $presence.init({
    TYPING : {
      accept: "KEYBOARD", text: "Hey, you are typing!"
    },
    IDLE : {
      enter: 2000, initial: true, text: "I know you're there, why don't you type something?",
    },
    SHORTAWAY : {
      enter: 5000, text: "Ok, i think you're gone."
    },
    LONGAWAY : {
      enter: 10000, text: "You're definetly gone... but you should type something."
    }
  });
})
.controller('ctrl', function($scope, states) {
  $scope.states = states;

  states.onChange(function(state) {
    $scope.text = state.text;
  });
  
  states.LONGAWAY.onLeave(function() {
    alert("Hey, you are back!");
  });
});
</pre>
<p>and the markup like this:</p>

<pre>
&lt;div presence="MOUSE TOUCH"&gt;
  {{text}}
  &lt;input presence="KEYBOARD" type="text" value="Type here: "/&gt;
  &lt;input type="text" value="I don't care if you type here... "/&gt; 
&lt;/div&gt;
</pre>

<h3><a name="more" class="anchor" href="#more"><span class="octicon octicon-link"></span></a>More info</h3>
<p>For more information take a look at the <a href="https://github.com/katebe/angular-presence">github repository</a>.

        <footer>
          angular-presence is maintained by <a href="https://github.com/katebe">katebe</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

  <script>
    angular.element(document).ready(function() {
        angular.bootstrap(document.getElementById('presence-example-one'), ['presence-example-one']);
        angular.bootstrap(document.getElementById('presence-example-two'), ['presence-example-two']);
   });
  </script>
		
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-44433350-1', 'katebe.github.io');
    ga('send', 'pageview');
  </script>

      </div>
    </div>
  </body>
</html>
